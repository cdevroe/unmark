/*! Unmark - http://unmark.it - 2016-09-27 - http://plainmade.com */ 
if(void 0===unmark)var unmark={};!function(a){unmark.ajax=function(b,c,d,e,f,g){var h=unmark.urlEncode(unmark.vars.csrf_token),f=void 0!==f?f:"json",g=void 0!==g?g:!0,i="csrf_token="+h+"&content_type="+f;d=unmark.empty(d)?i:d+"&"+i,a.ajax({dataType:f,cache:!1,url:b,type:c.toUpperCase(),data:d,async:g,success:function(b){a.isFunction(e)&&e(b)},error:function(b,c,d){var f={error:d,status:c,request:b};a.isFunction(e)&&e(f)}})},unmark.readQuery=function(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}return!1},unmark.swapClass=function(b,c,d){var e=b;if(-1===c.indexOf("*"))return e.removeClass(c),d?e.addClass(d):e;var f=new RegExp("\\s"+c.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return e.each(function(b,c){for(var d=" "+c.className+" ";f.test(d);)d=d.replace(f," ");c.className=a.trim(d)}),d?e.addClass(d):e},unmark.replaceSpecial=function(a){if(void 0!==a&&null!==a){var b=null;for(var c in unmark.special_chars)b=new RegExp(c,"gi"),a=a.replace(b,unmark.special_chars[c])}return a},unmark.urlEncode=function(a){return a=unmark.replaceSpecial(a),encodeURIComponent(a)},unmark.empty=function(a){var b=void 0!==a&&null!==a?a.length:0;return a===!1||""===a||null===a||0===a||void 0===a||1>b},unmark.createCookie=function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"},unmark.readCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},unmark.prettyLink=function(a){return a=a.replace(/https?:\/\/(www.)?/,""),"/"===a.substr(-1)&&(a=a.substr(0,a.length-1)),a},unmark.read_query_str=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null==c?"":decodeURIComponent(c[1].replace(/\+/g," "))},unmark.extendFunction=function(a,b){this[a]=function(a,b,c){return function(){var d=b.apply(a,arguments),e=c.apply(a,arguments);return null!==e?e:d}}(this,this[a],b)}}(window.jQuery),function(a){a(document).ready(function(){function b(a,b){var c=a?"error":"";f.message.removeClass("error").addClass(c).text(b).fadeIn()}function c(a){a?f.submitbtn.find("i").removeClass("icon-go").addClass("icon-spinner"):f.submitbtn.find("i").removeClass("icon-spinner").addClass("icon-go")}function d(){c(!1),f.firstpass.val(""),f.secondpass.val("")}function e(a){unmark.ajax("/tools/resetPassword","post",a,function(a){if(d(),a.success)b(!1,"Your password has been changed. Redirecting now..."),setTimeout(function(){window.location.href="/"},3e3);else{if("undefined"!=typeof a.errors[91])return b(!0,"Invalid Token, Please check your email or contact support.");b(!0,"Password must contain both lower and uppercase letters and at least one number.")}})}var f={};f.helper=a(".gethere"),f.helptrigger=a(".forgot-pass"),f.firstpass=a("#password"),f.secondpass=a("#password2"),f.submitbtn=a(".login-submit"),f.resetform=a("#unmarkReset"),f.message=a(".response-message"),f.helptrigger.on("click",function(a){a.preventDefault(),f.helper.fadeToggle()}),f.firstpass.on("keypress change",function(){f.message.fadeOut()}),f.resetform.on("submit",function(a){a.preventDefault();var g,h=f.firstpass.val(),i=f.secondpass.val(),j=unmark.vars.token;c(!0),h===i?(g="token="+j+"&password="+h,e(g)):(d(),b(!0,"Passwords do not match. Try again."))})})}(window.jQuery),function(a){a(document).ready(function(){function b(b,c){b===!0?h.login_wrapper.animate({top:"-500px"},500,function(){a(this).hide(),h.login_spinner.fadeIn()}):h.login_spinner.fadeOut(400,function(){a(this).hide(),h.login_wrapper.show().animate({top:"0"},500),c&&e(!0,c)})}function c(a){h.login_spinner.fadeOut(400,function(){h.login_success.fadeIn(400,function(){setTimeout(function(){window.location.href=a},800)})})}function d(a){unmark.ajax("/login","post",a,function(a){a.success===!0?c(a.redirect_url):b(!1,a.message)})}function e(a,b){var c=h.pass_wrapper.is(":visible")?h.pass_wrapper:h.login_wrapper,d=a?"error":"";response=c.find(".response-message"),c.find("#password").val(""),response.removeClass("error").addClass(d).text(b).fadeIn()}function f(){h.pass_wrapper.is(":visible")?h.pass_wrapper.animate({top:"-500px"},500,function(){a(this).hide(),b()}):h.login_wrapper.animate({top:"-500px"},500,function(){a(this).hide(),h.pass_wrapper.show().animate({top:"0"},500)})}function g(){var b=a(".login-page-bottom");b.is(":visible")?(b.fadeOut(),h.about_page.fadeOut().delay().fadeIn(800),h.login_page.animate({top:"-130%"},1e3)):(h.about_page.fadeOut(),h.login_page.animate({top:"0"},1e3,function(){b.fadeIn(800)}))}var h={};h.message=a(".response-message"),h.login_wrapper=a(".loginWrapper"),h.login_spinner=a(".unmark-spinner"),h.login_success=a(".unmark-success"),h.login_form=a("#unmarkLogin"),h.pass_form=a("#unmarkForgotPass"),h.forget_submit=a(".forgot-submit"),h.input_fields=a("input.field-input"),h.helper_buttom=a(".forgot-pass"),h.pass_wrapper=a(".forgotPassWrapper"),h.login_page=a("#unmark_login_page"),h.about_page=a("#unmark_about_page"),h.login_form.on("submit",function(c){c.preventDefault(),b(!0);var e=a("#email").val(),f=a("#password").val(),g="email="+unmark.urlEncode(e)+"&password="+unmark.urlEncode(f);setTimeout(function(){d(g)},1500)}),h.pass_form.on("submit",function(b){b.preventDefault(),h.forget_submit.find("i").removeClass("icon-go").addClass("icon-spinner");var c=a("#forgot_email").val(),d="email="+unmark.urlEncode(c);unmark.ajax("/tools/forgotPassword","post",d,function(a){a.success?e(!1,"A confirmation link will be sent via email."):e(!0,"Email not recognized"),h.forget_submit.find("i").removeClass("icon-spinner").addClass("icon-go")})}),h.input_fields.on("change",function(){h.message.slideUp()}),h.pass_form.find("input.field-input").on("keypress change",function(){h.forget_submit.fadeIn(),h.message.slideUp()}),h.helper_buttom.on("click",function(a){a.preventDefault(),f()}),a(".toggle_welcome").on("click",function(a){a.preventDefault(),g()})})}(window.jQuery),function(a){function b(a,b,c){var d=b?"error":"";a.parent().find(".response-message").removeClass("error").addClass(d).text(c).fadeIn()}function c(a,b){var c=a.find(".login-submit i");b?c.removeClass("icon-go").addClass("icon-spinner"):c.removeClass("icon-spinner").addClass("icon-go")}unmark.register_user=function(a){var d,e=a.find("#email").val(),f=a.find("#password").val(),g=a.find("#password2").val();return f!==g?b(a,!0,"The passwords must match."):(c(a,!0),d="email="+unmark.urlEncode(e)+"&password="+unmark.urlEncode(f),void unmark.ajax("/register/user","post",d,function(d){d.success?(b(a,!1,"You are now registered, logging you in..."),setTimeout(function(){window.location.href="/"},2500)):(c(a,!1),b(a,!0,d.message))}))},a(document).ready(function(){a("#register_user").on("submit",function(b){b.preventDefault(),unmark.register_user(a(this))})})}(window.jQuery);